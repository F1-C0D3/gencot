-- Using values of readonly type.

-- Functions used as context:
cogent_fcln : CPtr U32 -> ()
cogent_fcln i = ()
cogent_fcro : (CPtr U32)! -> ()
cogent_fcro i = ()
-- Global variables used as context:
type GlobState1 =
   CPtr (CPtr U32)
type GlobState2 =
   CPtr ((CPtr U32)!)

-- struct probes:
type Struct_Cogent_ros1 = { mrg : U32, mro : (CPtr U32)!, mln : CPtr U32 }
type Struct_Cogent_ros2 = { sln : Struct_Cogent_ros1, sub : #Struct_Cogent_ros1 }

-- array probes:
type Cogent_roa1 = CArr5 U32 -- regular elements
type Cogent_roa2 =
   CArr5 ((CPtr U32)!) -- readonly elements
type Cogent_roa3 =
   CArr5 (CPtr U32) -- linear elements
type Cogent_roa4 =
   CArr5 #Cogent_roa1 -- array elements
type Cogent_roa5 =
   CArr5 #Cogent_roa2 -- array elements
type Cogent_roa6 =
   CArr5 #Cogent_roa3 -- array elements

-- Direct use of probe in context
cogent_f11ln : (CPtr U32)! -> ()
cogent_f11ln pro = ()
cogent_f11ro : (CPtr U32)! -> ()
cogent_f11ro pro = ()
cogent_f12ln : () -> ()
cogent_f12ln () = ()
cogent_f12ro : () -> ()
cogent_f12ro () = ()
cogent_f13ln : () -> ()
cogent_f13ln () = ()
cogent_f13ro : () -> ()
cogent_f13ro () = ()
cogent_f14ln : ( (CPtr U32)!, (CPtr U32)!, U32 ) -> ()
cogent_f14ln (pro, qro, i) = ()
cogent_f14ro : ( (CPtr U32)!, (CPtr U32)!, U32 ) -> ()
cogent_f14ro (pro, qro, i) = ()

-- Probe assigned to variable
cogent_f21ln : GlobState1 -> ( (), GlobState1 )
cogent_f21ln g =
   (()
   , let g { cont = _ } = g
   in g { cont = gencotDummy "Readonly expression used in linear context" })
cogent_f21ro : GlobState2 -> ( (), GlobState2 )
cogent_f21ro g =
   (()
   , let g { cont = _ } = g
   in g { cont = cogent_frro () })
cogent_f22ln : CPtr U32 -> ( (), CPtr U32 )
cogent_f22ln pln =
   (()
   , gencotDummy "Readonly expression used in linear context")
cogent_f22ro : (CPtr U32)! -> ()
cogent_f22ro pro = ()

-- Probe returned as result
cogent_f31ln : () -> CPtr U32
cogent_f31ln () =
   gencotDummy "Readonly expression used in linear context"
cogent_f31ro : () -> (CPtr U32)!
cogent_f31ro () = cogent_frro ()

-- Probe used in conditional expression with other branch as context
cogent_f41ln : ( (CPtr U32)!, CPtr U32, U32 ) -> ( (), CPtr U32 )
cogent_f41ln (pro, qln, i) =
   ((), qln)
cogent_f42ln : ( CPtr U32, (CPtr U32)!, U32 ) -> ( (), CPtr U32 )
cogent_f42ln (pln, qro, i) =
   ((), pln)

-- Probe used by accessing a struct component
cogent_f51ln : Struct_Cogent_ros1! -> ()
cogent_f51ln pro = ()
cogent_f51ro : Struct_Cogent_ros1! -> ()
cogent_f51ro pro = ()
cogent_f52ln : Struct_Cogent_ros1! -> ()
cogent_f52ln pro = ()
cogent_f52ro : Struct_Cogent_ros1! -> ()
cogent_f52ro pro = ()
cogent_f53ln : Struct_Cogent_ros1! -> ()
cogent_f53ln pro = ()
cogent_f53ro : Struct_Cogent_ros1! -> ()
cogent_f53ro pro = ()
cogent_f54ln : Struct_Cogent_ros1! -> ()
cogent_f54ln pro = ()
cogent_f54ro : Struct_Cogent_ros1! -> ()
cogent_f54ro pro = ()
cogent_f55ln : Struct_Cogent_ros1! -> ()
cogent_f55ln pro = ()
cogent_f55ro : Struct_Cogent_ros1! -> ()
cogent_f55ro pro = ()
cogent_f56ln : ( Struct_Cogent_ros1!, GlobState1 ) -> ( (), GlobState1 )
cogent_f56ln (pro, g) =
   (()
   , let g { cont = _ } = g
   in g { cont = gencotDummy "Readonly expression used in linear context" })
cogent_f56ro : ( Struct_Cogent_ros1!, GlobState2 ) -> ( (), GlobState2 )
cogent_f56ro (pro, g) =
   (()
   , let pro { mln = p1' } = pro
   and g { cont = _ } = g
   in g { cont = p1' })
cogent_f57ln : ( Struct_Cogent_ros1!, CPtr U32 ) -> ( (), CPtr U32 )
cogent_f57ln (pro, pln) =
   (()
   , gencotDummy "Readonly expression used in linear context")
cogent_f57ro : ( Struct_Cogent_ros1!, (CPtr U32)! ) -> ()
cogent_f57ro (pro, qro) = ()
cogent_f58ln : Struct_Cogent_ros1! -> CPtr U32
cogent_f58ln pro =
   gencotDummy "Readonly expression used in linear context"
cogent_f58ro : Struct_Cogent_ros1! -> (CPtr U32)!
cogent_f58ro pro =
   let pro { mln = p0' } = pro
   in p0'
cogent_f59ln : ( Struct_Cogent_ros1!, CPtr U32, U32 ) -> ( (), CPtr U32 )
cogent_f59ln (pro, qln, i) =
   ((), qln)
cogent_f59ro : ( Struct_Cogent_ros1!, (CPtr U32)!, U32 ) -> ()
cogent_f59ro (pro, qro, i) = ()

cogent_f61ln : Struct_Cogent_ros2! -> ()
cogent_f61ln pro = ()
cogent_f61ro : Struct_Cogent_ros2! -> ()
cogent_f61ro pro = ()
cogent_f62ln : Struct_Cogent_ros2! -> ()
cogent_f62ln pro = ()
cogent_f62ro : Struct_Cogent_ros2! -> ()
cogent_f62ro pro = ()
cogent_f63ln : Struct_Cogent_ros2! -> ()
cogent_f63ln pro = ()
cogent_f63ro : Struct_Cogent_ros2! -> ()
cogent_f63ro pro = ()
cogent_f64ln : Struct_Cogent_ros2! -> ()
cogent_f64ln pro = ()
cogent_f64ro : Struct_Cogent_ros2! -> ()
cogent_f64ro pro = ()

-- Probe used by accessing an array element
cogent_f71ln : Cogent_roa1! -> ()
cogent_f71ln pro = ()
cogent_f71ro : Cogent_roa1! -> ()
cogent_f71ro pro = ()
cogent_f72ln : Cogent_roa2! -> ()
cogent_f72ln pro = ()
cogent_f72ro : Cogent_roa2! -> ()
cogent_f72ro pro = ()
cogent_f73ln : Cogent_roa3! -> ()
cogent_f73ln pro = ()
cogent_f73ro : Cogent_roa3! -> ()
cogent_f73ro pro = ()
cogent_f74ln : Cogent_roa3! -> ()
cogent_f74ln pro = ()
cogent_f74ro : Cogent_roa3! -> ()
cogent_f74ro pro = ()
cogent_f75ln : Cogent_roa3! -> ()
cogent_f75ln pro = ()
cogent_f75ro : Cogent_roa3! -> ()
cogent_f75ro pro = ()
cogent_f76ln : ( Cogent_roa3!, GlobState1 ) -> ( (), GlobState1 )
cogent_f76ln (pro, g) =
   (()
   , let g { cont = _ } = g
   in g { cont = gencotDummy "Readonly expression used in linear context" })
cogent_f76ro : ( Cogent_roa3!, GlobState2 ) -> ( (), GlobState2 )
cogent_f76ro (pro, g) =
   (()
   , let pro @{ @1 = p1' } = pro
   and g { cont = _ } = g
   in g { cont = p1' })
cogent_f77ln : ( Cogent_roa3!, CPtr U32 ) -> ( (), CPtr U32 )
cogent_f77ln (pro, qln) =
   (()
   , gencotDummy "Readonly expression used in linear context")
cogent_f77ro : ( Cogent_roa3!, (CPtr U32)! ) -> ()
cogent_f77ro (pro, qro) = ()
cogent_f78ln : Cogent_roa3! -> CPtr U32
cogent_f78ln pro =
   gencotDummy "Readonly expression used in linear context"
cogent_f78ro : Cogent_roa3! -> (CPtr U32)!
cogent_f78ro pro =
   let pro @{ @1 = p0' } = pro
   in p0'
cogent_f79ln : ( Cogent_roa3!, CPtr U32, U32 ) -> ( (), CPtr U32 )
cogent_f79ln (pro, qln, i) =
   ((), qln)
cogent_f79ro : ( Cogent_roa3!, (CPtr U32)!, U32 ) -> ()
cogent_f79ro (pro, qro, i) = ()

cogent_f81ln : Cogent_roa4! -> ()
cogent_f81ln pro = ()
cogent_f81ro : Cogent_roa4! -> ()
cogent_f81ro pro = ()
cogent_f82ln : Cogent_roa5! -> ()
cogent_f82ln pro = ()
cogent_f82ro : Cogent_roa5! -> ()
cogent_f82ro pro = ()
cogent_f83ln : Cogent_roa6! -> ()
cogent_f83ln pro = ()
cogent_f83ro : Cogent_roa6! -> ()
cogent_f83ro pro = ()

-- probe assigned to struct component or array element
cogent_f91ln : Struct_Cogent_ros1 -> ( (), Struct_Cogent_ros1 )
cogent_f91ln pln =
   (()
   , let pln { mln = _ } = pln
   in pln { mln = gencotDummy "Readonly expression used in linear context" })
cogent_f91ro : Struct_Cogent_ros1 -> ( (), Struct_Cogent_ros1 )
cogent_f91ro pln =
   (()
   , let pln { mro = _ } = pln
   in pln { mro = cogent_frro () })
cogent_f92ln : Cogent_roa3 -> ( (), Cogent_roa3 )
cogent_f92ln pln =
   (()
   , let (pln @{ @1 = _ }
         , i0') = (pln, 1)
   in pln @{ @i0' = gencotDummy "Readonly expression used in linear context" })
cogent_f92ro : Cogent_roa2 -> ( (), Cogent_roa2 )
cogent_f92ro pln =
   (()
   , let (pln @{ @1 = _ }
         , i0') = (pln, 1)
   in pln @{ @i0' = cogent_frro () })

-- Using values of linear type (can be banged).

-- Direct use of probe in context
cogent_g11ln : CPtr U32 -> ()
cogent_g11ln pln = ()
cogent_g11ro : CPtr U32 -> ()
cogent_g11ro pln = ()
cogent_g12ln : () -> ()
cogent_g12ln () = ()
cogent_g12ro : () -> ()
cogent_g12ro () = ()
cogent_g13ln : () -> ()
cogent_g13ln () = ()
cogent_g13ro : () -> ()
cogent_g13ro () = ()
cogent_g14ln : ( CPtr U32, CPtr U32, U32 ) -> ()
cogent_g14ln (pln, qln, i) = ()
cogent_g14ro : ( CPtr U32, CPtr U32, U32 ) -> ()
cogent_g14ro (pln, qln, i) = ()

-- Probe assigned to variable
cogent_g21ln : GlobState1 -> ( (), GlobState1 )
cogent_g21ln g =
   (()
   , let g { cont = _ } = g
   in g { cont = cogent_frln () })
cogent_g21ro : GlobState2 -> ( (), GlobState2 )
cogent_g21ro g =
   (()
   , let g { cont = _ } = g
   in g { cont = gencotDummy "Linear expression used in readonly context" })
cogent_g22ln : CPtr U32 -> ()
cogent_g22ln pln = ()
cogent_g22ro : (CPtr U32)! -> ()
cogent_g22ro pro = ()

-- Probe returned as result
cogent_g31ln : () -> CPtr U32
cogent_g31ln () = cogent_frln ()
cogent_g31ro : () -> (CPtr U32)!
cogent_g31ro () =
   gencotDummy "Linear expression used in readonly context"

-- Probe used by accessing a struct component
cogent_g51ln : Struct_Cogent_ros1 -> ()
cogent_g51ln pln = ()
cogent_g51ro : Struct_Cogent_ros1 -> ()
cogent_g51ro pln = ()
cogent_g52ln : Struct_Cogent_ros1 -> ()
cogent_g52ln pln = ()
cogent_g52ro : Struct_Cogent_ros1 -> ()
cogent_g52ro pln = ()
cogent_g53ln : Struct_Cogent_ros1 -> ()
cogent_g53ln pln = ()
cogent_g53ro : Struct_Cogent_ros1 -> ()
cogent_g53ro pln = ()
cogent_g54ln : Struct_Cogent_ros1 -> ()
cogent_g54ln pln = ()
cogent_g54ro : Struct_Cogent_ros1 -> ()
cogent_g54ro pln = ()
cogent_g55ln : Struct_Cogent_ros1 -> ()
cogent_g55ln pln = ()
cogent_g55ro : Struct_Cogent_ros1 -> ()
cogent_g55ro pln = ()
cogent_g56ln : ( Struct_Cogent_ros1, GlobState1 ) -> ( (), GlobState1 )
cogent_g56ln (pln, g) =
   (()
   , let pln { mln = p1' } = pln
   and g { cont = _ } = g
   in g { cont = p1' })
cogent_g56ro : ( Struct_Cogent_ros1, GlobState2 ) -> ( (), GlobState2 )
cogent_g56ro (pln, g) =
   let g = (let pln { mln = p1' } = gencotDummy "Necessary banging of pln leads to non-escapeable type"
         and g { cont = _ } = g
         in g { cont = p1' }) !pln
   in ((), g)
cogent_g57ln : ( Struct_Cogent_ros1, CPtr U32 ) -> ()
cogent_g57ln (pln, qln) = ()
cogent_g57ro : ( Struct_Cogent_ros1, (CPtr U32)! ) -> ()
cogent_g57ro (pln, qro) = ()
cogent_g58ln : Struct_Cogent_ros1 -> CPtr U32
cogent_g58ln pln =
   let pln { mln = p0' } = pln
   in p0'
cogent_g58ro : Struct_Cogent_ros1 -> (CPtr U32)!
cogent_g58ro pln =
   gencotDummy "Linear expression used in readonly context"
cogent_g59ln : ( Struct_Cogent_ros1, CPtr U32, U32 ) -> ( (), CPtr U32 )
cogent_g59ln (pln, qln, i) =
   ((), qln)
cogent_g59ro : ( Struct_Cogent_ros1, (CPtr U32)!, U32 ) -> ()
cogent_g59ro (pln, qro, i) = ()

cogent_g61ln : Struct_Cogent_ros2 -> ()
cogent_g61ln pln = ()
cogent_g61ro : Struct_Cogent_ros2 -> ()
cogent_g61ro pln = ()
cogent_g62ln : Struct_Cogent_ros2 -> ()
cogent_g62ln pln = ()
cogent_g62ro : Struct_Cogent_ros2 -> ()
cogent_g62ro pln = ()
cogent_g63ln : Struct_Cogent_ros2 -> ()
cogent_g63ln pln = ()
cogent_g63ro : Struct_Cogent_ros2 -> ()
cogent_g63ro pln = ()
cogent_g64ln : Struct_Cogent_ros2 -> ()
cogent_g64ln pln = ()
cogent_g64ro : Struct_Cogent_ros2 -> ()
cogent_g64ro pln = ()

-- Probe used by accessing an array element
cogent_g71ln : Cogent_roa1 -> ()
cogent_g71ln pln = ()
cogent_g71ro : Cogent_roa1 -> ()
cogent_g71ro pln = ()
cogent_g72ln : Cogent_roa2 -> ()
cogent_g72ln pln = ()
cogent_g72ro : Cogent_roa2 -> ()
cogent_g72ro pln = ()
cogent_g73ln : Cogent_roa3 -> ()
cogent_g73ln pln = ()
cogent_g73ro : Cogent_roa3 -> ()
cogent_g73ro pln = ()
cogent_g74ln : Cogent_roa3 -> ()
cogent_g74ln pln = ()
cogent_g74ro : Cogent_roa3 -> ()
cogent_g74ro pln = ()
cogent_g75ln : Cogent_roa3 -> ()
cogent_g75ln pln = ()
cogent_g75ro : Cogent_roa3 -> ()
cogent_g75ro pln = ()
cogent_g76ln : ( Cogent_roa3, GlobState1 ) -> ( (), GlobState1 )
cogent_g76ln (pln, g) =
   (()
   , let pln @{ @1 = p1' } = pln
   and g { cont = _ } = g
   in g { cont = p1' })
cogent_g76ro : ( Cogent_roa3, GlobState2 ) -> ( (), GlobState2 )
cogent_g76ro (pln, g) =
   let g = (let pln @{ @1 = p1' } = gencotDummy "Necessary banging of pln leads to non-escapeable type"
         and g { cont = _ } = g
         in g { cont = p1' }) !pln
   in ((), g)
cogent_g77ln : ( Cogent_roa3, CPtr U32 ) -> ( (), CPtr U32 )
cogent_g77ln (pln, qln) =
   (()
   , let pln @{ @1 = p0' } = pln
   in p0')
cogent_g77ro : ( Cogent_roa3, (CPtr U32)! ) -> ()
cogent_g77ro (pln, qro) = ()
cogent_g78ln : Cogent_roa3 -> CPtr U32
cogent_g78ln pln =
   let pln @{ @1 = p0' } = pln
   in p0'
cogent_g78ro : Cogent_roa3 -> (CPtr U32)!
cogent_g78ro pln =
   gencotDummy "Linear expression used in readonly context"
cogent_g79ln : ( Cogent_roa3, CPtr U32, U32 ) -> ( (), CPtr U32 )
cogent_g79ln (pln, qln, i) =
   ((), qln)
cogent_g79ro : ( Cogent_roa3, (CPtr U32)!, U32 ) -> ()
cogent_g79ro (pln, qro, i) = ()

cogent_g81ln : Cogent_roa4 -> ()
cogent_g81ln pln = ()
cogent_g81ro : Cogent_roa4 -> ()
cogent_g81ro pln = ()
cogent_g82ln : Cogent_roa5 -> ()
cogent_g82ln pln = ()
cogent_g82ro : Cogent_roa5 -> ()
cogent_g82ro pln = ()
cogent_g83ln : Cogent_roa6 -> ()
cogent_g83ln pln = ()
cogent_g83ro : Cogent_roa6 -> ()
cogent_g83ro pln = ()

-- probe assigned to struct component or array element
cogent_g91ln : Struct_Cogent_ros1 -> ()
cogent_g91ln pln = ()
cogent_g91ro : Struct_Cogent_ros1 -> ()
cogent_g91ro pln = ()
cogent_g92ln : Cogent_roa3 -> ( (), Cogent_roa3 )
cogent_g92ln pln =
   (()
   , let (pln @{ @1 = _ }
         , i0') = (pln, 1)
   in pln @{ @i0' = cogent_frln () })
cogent_g92ro : Cogent_roa2 -> ( (), Cogent_roa2 )
cogent_g92ro pln =
   (()
   , let (pln @{ @1 = _ }
         , i0') = (pln, 1)
   in pln @{ @i0' = gencotDummy "Linear expression used in readonly context" })
